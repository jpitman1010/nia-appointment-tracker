<!-- templates/add_patient.html -->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Add New Patient</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
  <h1>Add New Patient</h1>

  {% with messages = get_flashed_messages() %}
  {% if messages %}
  <ul class="flashes">
    {% for message in messages %}
    <li>{{ message }}</li>
    {% endfor %}
  </ul>
  {% endif %}
  {% endwith %}

  <form method="POST" action="{{ url_for('add_patient') }}">
    <label>English First Name (optional):<br>
      <input type="text" name="fname" />
    </label><br><br>

    <label>English Last Name (required):<br>
      <input type="text" name="lname" required />
    </label><br><br>

    <label>Greek First Name (required):<br>
      <input type="text" name="greek_fname" required />
    </label><br><br>

    <label>Greek Last Name (required):<br>
      <input type="text" name="greek_lname" required />
    </label><br><br>

    <label>Date of Birth (required):<br>
      <input type="date" name="dob" required />
    </label><br><br>

    <label>Place of Birth:<br>
      <input type="text" name="place_of_birth" />
    </label><br><br>

    <label>Sex:<br>
      <select name="sex">
        <option value="">Select</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Other">Other</option>
      </select>
    </label><br><br>

    <label>Handedness:<br>
      <select name="handedness">
        <option value="">Select</option>
        <option value="Left">Left</option>
        <option value="Right">Right</option>
        <option value="Ambidextrous">Ambidextrous</option>
      </select>
    </label><br><br>

    <label>Race:<br>
      <input type="text" name="race" />
    </label><br><br>

    <label>Race Subtype:<br>
      <input type="text" name="race_subtype" />
    </label><br><br>

    <label>Father's Name (required):<br>
      <input type="text" name="fathers_name" required />
    </label><br><br>

    <label>Mother's Name:<br>
      <input type="text" name="mothers_name" />
    </label><br><br>

    <label>Phone (required):<br>
      <input type="tel" name="phone" required />
    </label><br><br>

    <label>Surrogate Phone:<br>
      <input type="tel" name="surrogate_phone" />
    </label><br><br>

    <label>Surrogate Relationship:<br>
      <input type="text" name="surrogate_relationship" />
    </label><br><br>

    <label>Address:<br>
      <input type="text" name="address" />
    </label><br><br>

    <label>Email (required):<br>
      <input type="email" name="email" required />
    </label><br>
    <small>If patient has no email, please use <strong>info@nioa.gr</strong></small><br><br>

    <label>AMKA:<br>
      <input type="text" name="amka" />
    </label><br><br>

    <button type="submit">Add Patient</button>
  </form>
  <!-- Duplicate Warning Modal -->
  <div id="duplicateModal" class="modal" style="display:none;">
    <div class="modal-content">
      <h3>Possible Duplicate Patient Found</h3>
      <p>Is this the same patient as one listed below?</p>
      <ul id="duplicateList"></ul>
      <button id="btnYes">Yes, update existing patient</button>
      <button id="btnNo">No, create new patient</button>
    </div>
  </div>
  <script src="{{ url_for('static', filename='js/patient_form.js') }}"></script>

</body>

</html>